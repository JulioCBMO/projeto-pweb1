<div class="container">
  @if (perguntaAtual()) {
    <div class="quiz-card">
      <h2>PERGUNTA {{ service.perguntaAtual() + 1 }}</h2>

      @if (perguntaAtual()?.imagem) {
        <img 
          [src]="perguntaAtual()?.imagem" 
          alt="Imagem da pergunta" 
          class="imagem-pergunta"
        />
      }

      <p class="texto">{{ perguntaAtual()?.texto }}</p>

      <div class="alternativas">
        @for (alt of perguntaAtual()?.alternativas; track $index) {
          <button
            (click)="escolherAlternativa($index)"
            [class.correta]="selecionada !== null && $index === correta"
            [class.errada]="selecionada !== null && $index === selecionada && selecionada !== correta"
            [class.inativo]="selecionada !== null && $index !== selecionada && $index !== correta"
            [disabled]="selecionada !== null"
          >
            {{ alt }}
          </button>
        }
      </div>
    </div>
  } @else {
    <div class="loading">
      <p>Carregando desafio...</p>
    </div>
  }
</div>